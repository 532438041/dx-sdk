<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <!--声明IE使用edge渲染，最高级别的IE内核 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!--
    width:可视区域的宽度，值可为数字或关键词device-width
    height:同width
    intial-scale:页面首次被显示是可视区域的缩放级别，取值1.0则页面按实际尺寸显示，无任何缩放
    maximum-scale=1.0, minimum-scale=1.0;可视区域的缩放级别，
    maximum-scale用户可将页面放大的程序，1.0将禁止用户放大到实际尺寸之上。
    user-scalable:是否可对页面进行缩放，no 禁止缩放
    -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--控制几款双核浏览器的渲染核心为webkit-->
    <meta name="renderer" content="webkit">
    <!--清除页面缓存-->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <title>element-seed</title>
</head>
<body>
<div id="app">
    <a href="javascript:void(0)" onclick="getLocation()">获取定位</a><br>
    <a href="javascript:void(0)" onclick="closeWindow()">关闭窗口</a><br>
    <a href="javascript:void(0)" onclick="camera()">拍照上传</a><br>
    <a href="javascript:void(0)" onclick="selectpic()">选择图片</a><br>
    <a href="javascript:void(0)" onclick="selectMorePic()">选择多张图片</a><br>
    <a href="javascript:void(0)" onclick="scanQRCode()">扫一扫</a><br>
    <a href="javascript:void(0)" onclick="previewImage()">预览图片</a><br>
    <a href="javascript:void(0)" onclick="selectPeoples()">人员选择</a><br>
    <a href="javascript:void(0)" onclick="chooseFileFromLocal()">选择本地文件</a><br>
    <a href="javascript:void(0)" onclick="chooseFileFromNetDisk()">选择网盘文件</a><br>
</div>
<!-- built files will be auto injected -->
<script src="dist/dx-sdk.js"></script>
<script>
  (function () {
    window.getLocation = () => {
      dx.getLocation().then(rsp => {
        alert(JSON.stringify(rsp))
      })
    }

    window.closeWindow = () => {
      dx.closeWindow()
    }

    window.camera = () => {
      dx.chooseImage({ sourceType: 'camera' }).then(rsp => {
        alert(JSON.stringify(rsp))
      })
    }

    window.selectpic = () => {
      dx.chooseImage().then(rsp => {
        alert(JSON.stringify(rsp))
      })
    }
    window.selectMorePic = () => {
      dx.chooseImage({ count: 3 }).then(rsp => {
        alert(JSON.stringify(rsp))
      })
    }

    window.scanQRCode = () => {
      dx.scanQRCode().then(rsp => {
        alert(JSON.stringify(rsp))
      })
    }

    window.previewImage = () => {
      dx.previewImage({ url: 'http://www.tagxp.com/uploads/allimg/c170603/149642154A0240-c033.jpg' })
    }

    window.selectPeoples = () => {
      dx.selectPeoples().then(rsp => {
        let [{
          avatarUrl,
          nickname,
          orgId,
          userNo
        }] = rsp
        alert(JSON.stringify(rsp))
      })
    }

    window.chooseFileFromNetDisk = () => {
      dx.chooseFile({ sourceType: 'netDisk' }).then(result => {
        alert(JSON.stringify(result))
      })
    }

    window.chooseFileFromLocal = () => {
      dx.chooseFile().then(result => {
        alert(JSON.stringify(result))
      })
    }

  })()
</script>
</body>
</html>
